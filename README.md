# ü§ñ Morrowind AI OpenMW - –ü–µ—Ä–≤—ã–π –ò–ò –º–æ–¥ —Å –≥–æ–ª–æ—Å–æ–≤—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º!

**–†–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –º–æ–¥** –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç **–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç** –∏ **–≥–æ–ª–æ—Å–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** –≤ The Elder Scrolls III: Morrowind –Ω–∞ –¥–≤–∏–∂–∫–µ **OpenMW 0.49+**.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üé§ **–ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥** —á–µ—Ä–µ–∑ VOSK (–≥–æ–≤–æ—Ä–∏—Ç–µ –≤ –º–∏–∫—Ä–æ—Ñ–æ–Ω)
- ü§ñ **–ò–ò –¥–∏–∞–ª–æ–≥–∏** —á–µ—Ä–µ–∑ Google Gemini API
- üìú **–£–º–Ω—ã–µ –ù–ü–°** —Å –ø–∞–º—è—Ç—å—é –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–æ–º
- üó£Ô∏è **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞** (–ª–æ—Ä –ú–æ—Ä—Ä–æ–≤–∏–Ω–¥–∞)
- üåç **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å Project Tamriel –º–æ–¥–∞–º–∏

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **OpenMW 0.49.0+** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
- **Python 3.12+**
- **Google Gemini API –∫–ª—é—á** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ –Ω–∞ ai.google.dev)
- **–ú–∏–∫—Ä–æ—Ñ–æ–Ω** –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞
- **16+ –ì–ë –û–ó–£** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
git clone https://github.com/ButCheR-PRO/morrowind_ai_openmw.git
cd morrowind_ai_openmw


2. **–ó–∞–ø—É—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∫—É:**

INSTALL.bat


3. **–ù–∞—Å—Ç—Ä–æ–π config.yml:**

–ò–∑–º–µ–Ω–∏ –ø—É—Ç–∏ –ø–æ–¥ —Å–≤–æ—é —Å–∏—Å—Ç–µ–º—É
morrowind_data_files_dir: "C:/Path/To/Your/Morrowind/Data Files"

–í—Å—Ç–∞–≤—å —Å–≤–æ–π Gemini API –∫–ª—é—á
llm:
system:
google:
api_key: "–í–ê–®_GEMINI_API_–ö–õ–Æ–ß"


4. **–ü–æ–ª—É—á–∏ Gemini API –∫–ª—é—á:**
   - –ò–¥–∏ –Ω–∞ https://ai.google.dev/
   - –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
   - –ü–æ–ª—É—á–∏ API –∫–ª—é—á (–±–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–æ 15 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω)

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ OpenMW –º–æ–¥—É–ª—è

5. **–°–∫–æ–ø–∏—Ä—É–π Lua —Å–∫—Ä–∏–ø—Ç—ã:**

–ò–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤ —Ç–≤–æ—é –ø–∞–ø–∫—É Data Files
scripts/ ‚Üí C:/Path/To/Your/Morrowind/Data Files/scripts/


6. **–î–æ–±–∞–≤—å –≤ openmw.cfg:**

–û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª `Documents/My Games/OpenMW/openmw.cfg` –∏ –¥–æ–±–∞–≤—å –≤ –∫–æ–Ω–µ—Ü:


Morrowind AI Mod
content=morrowind_ai.omwscripts


### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞

7. **–ü—Ä–æ–≤–µ—Ä—å –º–∏–∫—Ä–æ—Ñ–æ–Ω:**


TEST_VOSK.bat


8. **–ï—Å–ª–∏ –º–∏–∫—Ä–æ—Ñ–æ–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** - –∏–∑–º–µ–Ω–∏ –≤ config.yml:


speech_to_text:
system:
vosk:
device_index: 0 # –ü–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è: 1, 2, 3...


## üéÆ –ó–∞–ø—É—Å–∫

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

START.bat


**–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:**
[SUCCESS] Initialization completed
[WAITING] Waiting for the Morrowind to connect to the server...

### –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã
1. –ó–∞–ø—É—Å—Ç–∏ **OpenMW** (–≤–µ—Ä—Å–∏—è 0.49+)
2. –ó–∞–≥—Ä—É–∑–∏ –ª—é–±–æ–π —Å–µ–π–≤ –∏–ª–∏ —Å–æ–∑–¥–∞–π –Ω–æ–≤–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
3. –ü–æ–¥–æ–π–¥–∏ –∫ –ª—é–±–æ–º—É –ù–ü–° –∏ –Ω–∞—á–Ω–∏ –¥–∏–∞–ª–æ–≥
4. **–ì–æ–≤–æ—Ä–∏ –≤ –º–∏–∫—Ä–æ—Ñ–æ–Ω** - –ù–ü–° –æ—Ç–≤–µ—Ç–∏—Ç —á–µ—Ä–µ–∑ –ò–ò!

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ì–æ–ª–æ—Å–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
- **–ü–æ–¥–æ–π–¥–∏ –∫ –ù–ü–°** ‚Üí –ù–∞—á–Ω–∏ –¥–∏–∞–ª–æ–≥
- **–ì–æ–≤–æ—Ä–∏ –≤ –º–∏–∫—Ä–æ—Ñ–æ–Ω** ‚Üí VOSK —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç —Ä–µ—á—å
- **–ò–ò –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç** ‚Üí –í–∏–¥–∏—à—å —É–º–Ω—É—é —Ä–µ–ø–ª–∏–∫—É –≤ –∏–≥—Ä–µ

### –ü—Ä–∏–º–µ—Ä—ã –¥–∏–∞–ª–æ–≥–æ–≤
–ò–≥—Ä–æ–∫: "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞ –≤ –ë–∞–ª–º–æ—Ä–µ?"
–ù–ü–°: "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é, –ø—É—Ç–Ω–∏–∫. –í –ë–∞–ª–º–æ—Ä–µ –¥–µ–ª–∞ –∏–¥—É—Ç —Å–≤–æ–∏–º —á–µ—Ä–µ–¥–æ–º.
–ì–∏–ª—å–¥–∏—è –ë–æ–π—Ü–æ–≤ –Ω–∞–±–∏—Ä–∞–µ—Ç –Ω–æ–≤–æ–±—Ä–∞–Ω—Ü–µ–≤, –∞ –≤ –î–æ–º–µ –†–µ–¥–æ—Ä–∞–Ω
–æ–±—Å—É–∂–¥–∞—é—Ç —Ç–æ—Ä–≥–æ–≤—ã–µ –ø—É—Ç–∏ —Å –º–∞—Ç–µ—Ä–∏–∫–æ–º."

–ò–≥—Ä–æ–∫: "–ì–¥–µ –Ω–∞–π—Ç–∏ –∞–ª—Ö–∏–º–∏—á–µ—Å–∫–∏–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã?"
–ù–ü–°: "–°–æ–≤–µ—Ç—É—é –ø–æ—Å–µ—Ç–∏—Ç—å –ê–¥–∂–∏—Ä—É-–ù–∞–∫–∞–ª - —É –Ω–µ—ë –ª—É—á—à–∏–π –≤—ã–±–æ—Ä —Ç—Ä–∞–≤
–∏ –≥—Ä–∏–±–æ–≤ –≤–æ –≤—Å—ë–º –í–≤–∞—Ä–¥–µ–Ω—Ñ–µ–ª–ª–µ. –ù–æ –±—É–¥—å –æ—Å—Ç–æ—Ä–æ–∂–µ–Ω —Å
–∫–æ–Ω—Ç—Ä–∞–±–∞–Ω–¥–∏—Å—Ç–∞–º–∏ –≤ –ø–µ—â–µ—Ä–∞—Ö!"


## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –ù–ü–°
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π `scenes/default.yml` –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è:

system_prompt: |
–¢—ã —Ç–æ—Ä–≥–æ–≤–µ—Ü –æ—Ä—É–∂–∏–µ–º –≤ –ë–∞–ª–º–æ—Ä–µ.
–ì–æ–≤–æ—Ä–∏ –≥—Ä—É–±–æ, —Å —é–º–æ—Ä–æ–º.
–ü—Ä–µ–¥–ª–∞–≥–∞–π —Ç–æ–≤–∞—Ä—ã –∏–≥—Ä–æ–∫—É.

personality_traits:

gruff_trader

morrowind_native

business_focused


### –ì–æ–ª–æ—Å–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏


speech_to_text:
system:
vosk:
energy_threshold: 300 # –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞
pause_threshold: 1.0 # –ü–∞—É–∑–∞ –º–µ–∂–¥—É —Ñ—Ä–∞–∑–∞–º–∏


## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å Python 3.12: `python --version`
- –ü—Ä–æ–≤–µ—Ä—å Gemini API –∫–ª—é—á –≤ config.yml
- –ó–∞–ø—É—Å—Ç–∏: `CHECK_CONFIG.bat`

### –ú–∏–∫—Ä–æ—Ñ–æ–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ó–∞–ø—É—Å—Ç–∏: `TEST_VOSK.bat`
- –ò–∑–º–µ–Ω–∏ `device_index` –≤ config.yml
- –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É

### OpenMW –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
- –£–±–µ–¥–∏—Å—å —á—Ç–æ –≤–µ—Ä—Å–∏—è OpenMW 0.49+
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ `morrowind_ai.omwscripts` –¥–æ–±–∞–≤–ª–µ–Ω –≤ openmw.cfg
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Å–∫—Ä–∏–ø—Ç—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ Data Files/scripts/

### –ù–ü–° –Ω–µ –æ—Ç–≤–µ—á–∞—é—Ç
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
- –£–±–µ–¥–∏—Å—å —á—Ç–æ –Ω–∞—á–∞—Ç –¥–∏–∞–ª–æ–≥ —Å –ù–ü–°
- –ì–æ–≤–æ—Ä–∏ —á—ë—Ç–∫–æ –≤ –º–∏–∫—Ä–æ—Ñ–æ–Ω (—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫)

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ò–≥—Ä–æ–∫ –≥–æ–≤–æ—Ä–∏—Ç ‚Üí VOSK (STT) ‚Üí Gemini AI ‚Üí OpenMW ‚Üí –ù–ü–° –æ—Ç–≤–µ—á–∞–µ—Ç


### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **OpenMW Lua API** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∏–≥—Ä–æ–π
- **VOSK** - —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä—É—Å—Å–∫–æ–π —Ä–µ—á–∏ (–æ—Ñ—Ñ–ª–∞–π–Ω)
- **Google Gemini** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ò–ò –æ—Ç–≤–µ—Ç–æ–≤
- **TCP/WebSocket** - —Å–≤—è–∑—å –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **CPU:** –°—Ä–µ–¥–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –¥–∏–∞–ª–æ–≥–∞—Ö
- **RAM:** ~2GB –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
- **–°–µ—Ç—å:** –¢–æ–ª—å–∫–æ Gemini API –∑–∞–ø—Ä–æ—Å—ã

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –§–æ—Ä–∫–Ω–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π –≤–µ—Ç–∫—É –¥–ª—è —Å–≤–æ–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
3. –°–¥–µ–ª–∞–π Pull Request
4. –û–ø–∏—à–∏ —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª/—É–ª—É—á—à–∏–ª

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –∏—Å–ø–æ–ª—å–∑—É–π —Å–≤–æ–±–æ–¥–Ω–æ!

## üëè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- **OpenMW Team** - –∑–∞ –ø–æ—Ç—Ä—è—Å–∞—é—â–∏–π –¥–≤–∏–∂–æ–∫
- **VOSK Developers** - –∑–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ STT
- **Google** - –∑–∞ Gemini API
- **Project Tamriel** - –∑–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–∏—Ä

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [OpenMW Official](https://openmw.org/)
- [Google AI Studio](https://ai.google.dev/)
- [VOSK Models](https://alphacephei.com/vosk/models)
- [M[FR] Repack](https://www.fullrest.ru/)

---

**üéÆ –ü–æ–≥—Ä—É–∂–∞–π—Å—è –≤ –º–∏—Ä –ú–æ—Ä—Ä–æ–≤–∏–Ω–¥–∞ —Å –ò–ò —Å–ø—É—Ç–Ω–∏–∫–∞–º–∏!**


üóÇÔ∏è –ß—Ç–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫—É–¥–∞
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

# –¢–≤–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
morrowind_ai_openmw/
‚îú‚îÄ‚îÄ scripts/                     ‚Üê –ö–û–ü–ò–†–û–í–ê–¢–¨ –≤ Data Files
‚îÇ   ‚îú‚îÄ‚îÄ morrowind_ai.omwscripts  
‚îÇ   ‚îî‚îÄ‚îÄ morrowind_ai/
‚îÇ       ‚îú‚îÄ‚îÄ init.lua
‚îÇ       ‚îú‚îÄ‚îÄ dialogue.lua
‚îÇ       ‚îî‚îÄ‚îÄ network.lua
‚îú‚îÄ‚îÄ server/                      ‚Üê –û—Å—Ç–∞—ë—Ç—Å—è –≤ –ø–∞–ø–∫–µ –º–æ–¥–∞
‚îú‚îÄ‚îÄ config.yml                   ‚Üê –û—Å—Ç–∞—ë—Ç—Å—è –≤ –ø–∞–ø–∫–µ –º–æ–¥–∞
‚îî‚îÄ‚îÄ scenes/                      ‚Üê –û—Å—Ç–∞—ë—Ç—Å—è –≤ –ø–∞–ø–∫–µ –º–æ–¥–∞
–ö—É–¥–∞ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:
Lua —Å–∫—Ä–∏–ø—Ç—ã:
scripts/ ‚Üí C:/Games/MorrowindFullrest/game/Data Files/scripts/


–ù–∞—Å—Ç—Ä–æ–π–∫–∞ openmw.cfg:

# –í —Ñ–∞–π–ª: Documents/My Games/OpenMW/openmw.cfg
# –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É:
content=morrowind_ai.omwscripts


üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è —Ç–µ–±—è
–°–æ–∑–¥–∞–π OpenMW Lua —Å–∫—Ä–∏–ø—Ç—ã (—è –¥–∞–º –∫–æ–¥ –Ω–∏–∂–µ)

–û–±–Ω–æ–≤–∏ README.md –º–æ–∏–º —Ç–µ–∫—Å—Ç–æ–º

–ó–∞–ø—É—à–∏ –Ω–∞ GitHub

–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

–ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —ç—Ç–∏ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ scripts:
morrowind_ai.omwscripts:
PLAYER: scripts/morrowind_ai/player.lua
GLOBAL: scripts/morrowind_ai/init.lua


scripts/morrowind_ai/init.lua:

local core = require('openmw.core')
local ui = require('openmw.ui')

local M = {}

function M.onInit()
    print("[Morrowind AI] –°–µ—Ä–≤–µ—Ä –≥–æ—Ç–æ–≤ –∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é...")
    -- –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ TCP —Å–µ—Ä–≤–µ—Ä—É
end

function M.onUpdate(dt)
    -- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏ —Å —Å–µ—Ä–≤–µ—Ä–æ–º
end

return M

